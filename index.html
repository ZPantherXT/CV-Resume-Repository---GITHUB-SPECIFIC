<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV/Resume Builder V1.0</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --brand: #FF4D00; --dark: #121212; }
        body { font-family: 'Inter', sans-serif; margin: 0; background: #fff; overflow-x: hidden; }
        #landing { height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
        .main-heading { color: var(--brand); font-size: 4.5rem; font-weight: 900; margin: 0; letter-spacing: -3px; text-transform: uppercase; }
        .subtitle { color: #555; font-size: 1.25rem; margin: 10px 0 60px 0; }
        .choice-row { display: flex; gap: 40px; }
        .card { border: 3px solid #eee; padding: 40px; width: 280px; border-radius: 24px; cursor: pointer; transition: 0.3s; }
        .card:hover { border-color: var(--brand); transform: translateY(-5px); }
        .card h2 { color: var(--brand); margin: 0 0 10px 0; }
        .note { color: #ff0000; font-weight: 700; font-size: 0.8rem; display: block; margin-top: 10px; }
        #builder { display: none; grid-template-columns: 400px 1fr; height: 100vh; }
        #term { background: var(--dark); padding: 30px; display: flex; flex-direction: column; border-right: 1px solid #333; }
        #chat { flex-grow: 1; overflow-y: auto; color: #fff; font-size: 0.9rem; margin-bottom: 20px; }
        .spec { color: #FF8C00; margin-bottom: 12px; }
        .user-box { background: #1e1e1e; padding: 15px; border-radius: 12px; }
        input { width: 100%; background: transparent; border: 1px solid #444; color: #fff; padding: 12px; border-radius: 6px; box-sizing: border-box; }
        #preview { background: #525659; padding: 40px; overflow-y: auto; display: flex; justify-content: center; }
        .a4 { background: #fff; width: 210mm; min-height: 297mm; padding: 20mm; box-shadow: 0 10px 30px rgba(0,0,0,0.5); box-sizing: border-box; }
    </style>
</head>
<body>
    <div id="landing">
        <h1 class="main-heading">CV/Resume Builder V1.0</h1>
        <p class="subtitle">Build Industry-Standard <strong>CVs & Resumes</strong>. Completely Free.</p>
        <div class="choice-row">
            <div class="card" onclick="start('CV')"><h2>CV</h2><span class="note">ACADEMIC/RESEARCH</span></div>
            <div class="card" onclick="start('Resume')"><h2>Resume</h2><span class="note">CORPORATE/SKILLS</span></div>
        </div>
    </div>
    <div id="builder">
        <div id="term"><div id="chat"></div><div class="user-box"><input type="text" id="in" placeholder="Type here..." onkeypress="if(event.key==='Enter')send()"></div></div>
        <div id="preview"><div class="a4"><h1 id="n" style="text-transform:uppercase; margin:0;">NAME</h1><p id="r" style="color:#666; font-weight:700;">Role</p><hr><div id="s" style="margin: 20px 0;">Summary...</div><div id="e">Experience details...</div></div></div>
    </div>
    <script>
        const KEY = "AIzaSyChjCLR-3_8_09_pl71TVByRJFtVJwhYdU"; //
        let m = "";
        async function start(type){ m=type; document.getElementById('landing').style.display='none'; document.getElementById('builder').style.display='grid'; await call("Hi"); }
        async function call(t){
            try {
                const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${KEY}`, {
                    method: "POST", headers: {"Content-Type":"application/json"},
                    body: JSON.stringify({contents:[{parts:[{text:`You are a Career Architect. Mode: ${m}. User: ${t}. Return ONLY JSON: {"reply":"text","name":"","role":"","summary":"","experience":""}`}]}]})
                });
                const d = await res.json();
                const raw = d.candidates[0].content.parts[0].text;
                const json = JSON.parse(raw.match(/\{[\s\S]*\}/)[0]);
                if(json.reply) document.getElementById('chat').innerHTML += `<div class="spec"><b>AI:</b> ${json.reply}</div>`;
                if(json.name) document.getElementById('n').innerText = json.name;
                if(json.role) document.getElementById('r').innerText = json.role;
                if(json.summary) document.getElementById('s').innerText = json.summary;
                if(json.experience) document.getElementById('e').innerHTML = json.experience;
                document.getElementById('chat').scrollTop = document.getElementById('chat').scrollHeight;
            } catch (e) { console.error("Sync Error"); }
        }
        function send(){ const i=document.getElementById('in'); if(i.value){ document.getElementById('chat').innerHTML += `<div><b>You:</b> ${i.value}</div>`; call(i.value); i.value=''; } }
    </script>
</body>
</html>
